# Windows Onboarding & Multi-LLM Compatibility Audit

**Author**: Harsh Alreja  
**Status**: Resolved (Local Fixes) / Ready for Upstream PR  
**Date**: Feb 2026  
**Related**: [Hive #261](https://github.com/adenhq/hive/issues/261) - Lack of Native Windows Support

## Executive Summary

While implementing the `marketing_agent` template on **native Windows** using **Groq Cloud API**, I identified **5 critical blockers** that break the "out-of-the-box" experience for Windows developers and non-Anthropic users:

1. **Hardcoded AnthropicProvider** in `agent.py` 
2. **Static model config** ignoring `.env` vars
3. **Missing TUI `__main__.py`** entrypoint
4. **PYTHONPATH colon delimiters** (Linux-only)
5. **HuggingFace tokenizer symlink warnings**

## üîç Detailed Findings

### 1. Architecture Issues

| Issue | Location | Impact | Status |
|-------|----------|--------|---------|
| `agent.py` hardcoded to `AnthropicProvider()` | `exports/marketing_agent/agent.py` | Fails immediately for Groq/OpenAI/local models | ‚úÖ Fixed locally |
| `config.py` static model string `"claude-haiku-4-5-20251001"` | `exports/marketing_agent/config.py` | Requires code edits to switch LLMs | ‚úÖ Fixed locally |

**Root Cause**: Templates bypass `LiteLLMProvider` factory despite framework docs promising provider-agnostic execution via `GROQ_API_KEY`, `OPENAI_API_KEY`.

### 2. Windows-Specific Blockers

| Issue | Symptom | Windows Impact | Workaround |
|-------|---------|----------------|------------|
| No `framework.tui/__main__.py` | `python -m framework.tui` ‚Üí "can't execute package" | Silent TUI failure in Git Bash/PowerShell | Direct `__init__.py` execution |
| Docs use `:` for PYTHONPATH | `core:exports` fails path resolution | Can't load both `core/` and `exports/` | Use `;` delimiters: `core;exports` |
| HF tokenizers need symlinks | `UserWarning: Symlinks disabled` | Degraded perf, disk bloat | Enable Developer Mode |

## üõ†Ô∏è Local Fixes Applied

### Provider Fix
```python
# Before (broken)
provider = AnthropicProvider(api_key=...)

# After (works)
provider = LiteLLMProvider.from_env()  # Respects GROQ_API_KEY
Dynamic Config
python
# Before
model = "claude-haiku-4-5-20251001"

# After  
model = os.getenv("LITELLM_MODEL", "llama3.1:8b")  # Groq default
Windows PYTHONPATH
bash
# Docs (Linux)
export PYTHONPATH="core:exports"

# Windows (fixed)
set PYTHONPATH=core;exports
# or in Git Bash
export PYTHONPATH="core;exports"
üöÄ Recommended Upstream PR
Title: fix: Windows compatibility + provider-agnostic marketing_agent #261

Scope:

text
exports/marketing_agent/
‚îú‚îÄ‚îÄ agent.py          (LiteLLMProvider + env detection)
‚îú‚îÄ‚îÄ config.py         (dynamic model from .env)
‚îî‚îÄ‚îÄ README.md         (Windows setup instructions)
core/framework/tui/
‚îî‚îÄ‚îÄ __main__.py       (TUI entrypoint)
docs/
‚îî‚îÄ‚îÄ windows-setup.md  (PYTHONPATH, symlinks)
Testing Matrix:

 Windows 11 + Git Bash + Groq

 Windows 11 + PowerShell + Groq

 Linux validation

 MacOS validation

Next Steps
Comment on #261 with this audit

Fork ‚Üí PR the 5 fixes above

Add Windows CI to GitHub Actions

Harsh Alreja
BBA(CA) | Product Engineering | Pune, India
LinkedIn | GitHub